---
# 속성은 대쉬 내부에 작성하세요

# 영문으로 같은 내용 작성 시 id 같아야 함
lng_pair: id_kakao_virtualization
# 영문으로 작성하는 경우 영문제목
title: VMware에 CentOS 설치

# 저자 설정(생략 가능)
#author: initializer

# 카테고리와 태그 설정
category: 카카오클라우드스쿨
tags: [virtualization, linux]

# 섬네일 이미지
img: "data:image/png;base64,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"

# 댓글 비활성화 여부
comments_disable: false

# 작성 날짜
date: 2022-07-04 11:22:40 +0900

# image_lazy_loader_posts = false 혹은 image_viewer_posts = false인 경우에만 사용하세요
#image_viewer_on: true
#image_lazy_loader_on: true

# 블로그내 검색 혹은 검색 엔진 검색에서 예외할건가
#on_site_search_exclude: true
#search_engine_exclude: true

# to disable this page, simply set published: false or delete this file
#published: false
---

<!-- outline-start -->

[카카오 클라우드 스쿨] VM 웨어에 임시 서버용 centOS를 설치해 보자!

<!-- outline-end -->


# VMware에 CentOS 설치하기
## 네트워크 설정
* VM network editor에서 다음과 같이 설정했다
  * ![img_67](https://user-images.githubusercontent.com/104918800/177148421-e84c1215-a7fc-467c-9d0e-712456e464b5.png)

<br>
<hr>

## Virtual machine 설치
1 . file - new virtual machine <br>
2 . 일반 설치 <br>
   * ![img_2](https://user-images.githubusercontent.com/104918800/177148430-e4862e22-f503-46a8-8349-625649d37c87.png) <br><br>
3 . 다운받은 centos를 설치한다 - ISO 파일을 통해 설치 <br>
   * ![img_4](https://user-images.githubusercontent.com/104918800/177148436-c5c240b4-1adb-4402-9524-2854cb2151b1.png) <br><br>
4 . 일단 테스트로 박는다 <br>
   * ![img_5](https://user-images.githubusercontent.com/104918800/177148437-dde80f69-caae-4289-a950-55ef8e49e3d3.png) <br><br>
5 . virtual machine 이름 설정에서 <br>
   * '너는 운영체제가 아닌 프로그램일 뿐이야'
   * 운영체제랑 헷갈리지 않도록 따로 폴더에서 관리를 해 주겠다
   * ![img_6](https://user-images.githubusercontent.com/104918800/177148439-6e98c4aa-da4e-4257-bfb7-7244497dce62.png) <br><br>
6 . 디스크 공간을 제공해야 함 <br>
   * ![img_7](https://user-images.githubusercontent.com/104918800/177148442-555c1a1d-4310-4b00-8397-16d205169cfb.png) <br><br>
7 . (중요)다음을 해제하고 finish <br>
   * ![img_8](https://user-images.githubusercontent.com/104918800/177148444-bf2e05fa-0621-4da5-a509-2d1545da401b.png) <br><br>
8 . 이제 깡통PC가 생성되었으나, 추가 세팅이 필요하다 <br>
   1. ![img_10](https://user-images.githubusercontent.com/104918800/177148448-725c72ee-a6af-4035-a864-d3ad4ac41d24.png) <br><br>
   2. 메모리 설정
      * ![img_11](https://user-images.githubusercontent.com/104918800/177148451-c422d634-4417-44e0-a05b-2e14cafa0a27.png) <br><br>
   3. 듀얼코어 설정
      * ![img_12](https://user-images.githubusercontent.com/104918800/177148454-6dc40f01-171b-406e-9135-6f12935faf90.png) <br><br>
   4. 아래 CD는 필요없으니 지운다
      * ![img_13](https://user-images.githubusercontent.com/104918800/177148456-094718a1-04b9-4c77-8187-c3bc91ce3eb2.png) <br><br>
   5. NAT을 bridge로 변경
      * ![img_14](https://user-images.githubusercontent.com/104918800/177148458-4f06eba3-cc4e-42ef-9da4-4d32521c2d05.png) <br><br>
   6. 이 세가지도 지운다
      * ![img_20](https://user-images.githubusercontent.com/104918800/177148473-ab7684de-fd05-4fba-9867-0de241df0f58.png)  <br><br>
   7. 최종
      * ![img_15](https://user-images.githubusercontent.com/104918800/177148459-bfac18dd-db82-4bf3-a037-66c555dc70c2.png) <br><br>
   8. 마우스를 바깥으로 빼려면 ctrl + alt

<br>
<hr>


## CentOS 설치
* ![img_16](https://user-images.githubusercontent.com/104918800/177148465-f4e88226-3fa0-4ff8-84b0-f0442a74d7af.png) <br>

1 . 언어 영문으로 설정 <br>

<br>

2 . 평양이 아닌 서울로 설정
  * ![img_17](https://user-images.githubusercontent.com/104918800/177148468-040b2140-063e-4b2d-ba20-6aa511c4c48b.png) <br>

<br>

3 . 로컬 미디어 설치
* ![img_18](https://user-images.githubusercontent.com/104918800/177148470-db6130b1-b060-48b4-a895-2be809926179.png)
* (참고로 로컬 네트워크는 네트워크로 원격 이미지를 설치할 수 있음, 느리지만 몇천개의 운영체제를 동시에 설치할 수 있음)

<br>

4 . software selection
* ![img_19](https://user-images.githubusercontent.com/104918800/177148471-38f43d38-b582-48f1-94dc-921509a9ffe7.png)
* 어떤 버전으로 설치할 지 고를 수 있음
* GUI를 제공하는 버전 중 가벼운 server with GUI로 설치할 예정
* (참고로 GNOME은 아주 무겁다) <br>

<br>

5 . install destination
* 다음과 같이 다른 곳에 설치할 수도 있다
* ![img_21](https://user-images.githubusercontent.com/104918800/177148474-23a16250-fce0-426a-82f6-e782fbd5ffda.png)
* 일단 로컬 디스크에 설치할 것 <br>

<br>

6 . Network & Hostname
* 우리는 내부 IP가 지정이 되어 있는 상태이므로 다음과 같이 configure 한다
* ![img_25](https://user-images.githubusercontent.com/104918800/177148482-3a09ed8d-5411-4d38-a80f-0d0239cf0fb9.png)
* ![img_24](https://user-images.githubusercontent.com/104918800/177148481-184c73c4-6937-497d-b66c-137744a15273.png)
* ![img_26](https://user-images.githubusercontent.com/104918800/177148484-fe6bdf92-db0b-437f-90cd-d72e1b56d610.png)

<br>

7 . Begin Installation  <br>

<br>

8 . Root password 설정
* test123(임시용임) <br>

<br>

9 . User Creation
* 일반 사용자 만들기
* make this user admin 체크 (유저가 일시적으로 관리자 권한을 얻을 수 있음)
* user1 사용자 user1 비밀번호(임시용임) <br>

<br>

10 . 설치가 다 되면 reboot 하면 된다

<br>

11 . 라이센스
* free는 공짜라기보다는 자유롭게 쓰라는 뜻!
* 상업적으로 이용할 수는 있되, 이용한 경우 그 코드를 공개하라는 것이 내용임

<br>

12 . 루트로 로그인
* 환영합니다 뜨면 무사히 리눅스 설치를 완료한 것
* ![img_29](https://user-images.githubusercontent.com/104918800/177148489-1fdadaf0-01c5-4995-9872-a552b2fd0819.png)

<br>
<hr>


## 간단한 네트워크 실습 <br>
1 . 터미널창 열어서 ifconfig 확인해보기<br>
<br>

> (정보) ifconfig의 Interface
* physical interface: [ens32]
  * 실제 인터페이스
  * 랜카드에 할당되어있는 주소
* logical interface: [loopback]
  * 논리적, 그때그때마다 다르게 사용할 수 있다, 가상의 인터페이스
  * 통신기기에 있는 논리적인 인터페이스로, 주로 테스트용도로 사용되며 외부와의 연결은 불가능하다
  * 만약 loopback으로 통신을 시도했을 경우 정상적인 상태라면, 내 장치는 tcp/ip가 정상적으로 동작한다는 것을 의미함
  * localhost(127.0.0.1) 무조건 내 호스트로 접속이 가능하다 (외부와 통신하는 것이 아님)
  * ![img_30](https://user-images.githubusercontent.com/104918800/177148492-3f252872-f835-4575-95f0-1c08fbdbfe8e.png)
* virbr: 가상 브릿지
  * 위에서 말했듯, 물리적(실제) 랜카드로부터 할당된 가상 브릿지의 정보를 볼 수 있음
  * 이 가상 브릿지는 NAT에 사용되며, 이를 통해 외부 네트워크와 통신을 할 수 있다!
  * 아직은 자세히 몰라도 됨 <br><br>

2 . 구글 핑 <br>
   * ![img_31](https://user-images.githubusercontent.com/104918800/177148496-9e1d948f-35ea-4b40-a358-49407e831cfb.png)
   * ping이라는 총으로 google에 3번 발사하겠다 <br><br>

3 . 강사님 PC로 핑 <br>
   * ![img_32](https://user-images.githubusercontent.com/104918800/177148500-9793a758-b05c-49fe-a62c-8fbd8d679e20.png) <br><br>

4 . yum -d httpd <br>
 * 오류가 뜨면
 * ![img_33](https://user-images.githubusercontent.com/104918800/177148503-d79cc6dc-891c-446a-a53c-a75e91a385cd.png)
 * kill -9 [pid]로 해당 프로세스를 죽인다 <br><br>

5 . config 파일 수정해 보기 <br>
   * 기본적으로 httpd 작동 과정에 config파일이 참조된다
     * ![img_34](https://user-images.githubusercontent.com/104918800/177148505-37866025-b347-42be-882a-b8efb6c68fb2.png) <br><br>
   * 터미널 창에서 httpd config 파일의 경로로 이동
     * cd /etc/httpd/conf <br><br>
   * 리슨하고 있는 포트 확인 가능
     * ![img_35](https://user-images.githubusercontent.com/104918800/177148507-033ef637-717b-437d-8354-f1a9841b4614.png) <br><br>
   * 웹서버 접속 시 보여줄 첫번 째 파일의 경로와 파일, 바꿀 수 있다
     * ![img_36](https://user-images.githubusercontent.com/104918800/177148508-59bf0a5f-d32b-409d-acdc-aca037892bad.png)
     * ![img_37](https://user-images.githubusercontent.com/104918800/177148511-ea2f906e-7b4a-460a-b20e-8c5f2ba97fa1.png) <br><br>


6 . httpd 시작 페이지를 네이버 화면으로 바꿔 보기 <br>
   * 디렉터리 이동
     * cd /var/www/html
   * 네이버 화면을 html로 생성한다
     * curl https://www.naver.com > index.html
   * 서비스 재시작
     * systemctl restart httpd
   * 서비스 상태 확인
     * ![img_38](https://user-images.githubusercontent.com/104918800/177148512-d78f1a33-fd38-41bd-9e10-326edf73e56d.png)
   * localhost (루프백) 접속
     * ![img_39](https://user-images.githubusercontent.com/104918800/177148513-87b25643-e7a0-486f-ba15-276e09a4bf04.png)
   * 옆사람 vm으로는 방화벽때문에 접속이 안된다
     * ![img_40](https://user-images.githubusercontent.com/104918800/177148515-d57ba494-8a44-401f-995a-63eb12616c1f.png) <br><br>

7 . 방화벽 해제 <br>
* systemctl stop firewalld
* 내 VM에서 다시 옆사람의 VM으로 접속해 보자(성공)
* ![img_42](https://user-images.githubusercontent.com/104918800/177148519-f8e4dd6b-3150-4a06-b9e9-29eec9afe682.png) <br><br>

<br>
<hr>

## 적용해 볼 수 있는 네트워크 지식
1. 네트워크 전체 개요
   * 전체 개요 <br> ![img_43](https://user-images.githubusercontent.com/104918800/177148522-61e940f5-3b59-450e-b223-1af76189ce44.png)
     * 대충 IP주소를 브로드캐스팅해서 찾는다
     * 부가 설명을 추가하자면, 통신하는 데이터가 (mac주소(IP주소(데이터))) 이렇게 캡슐화가 되어있으면 목적지 정보는 IP에 있고,
     * mac 주소 부분만 계속 변하면서 목적지를 찾아 간다(PC-게이트웨이-라우터-게이트웨이-PC)
<br><br>

2. 방화벽과 포트 <br> ![img_44](https://user-images.githubusercontent.com/104918800/177148525-293387bc-e9f7-4f79-92e3-c8e3da2c871b.png)
   * MAC 주소를 저장해 두는 ARP table 확인해 보기 <br> ![img_68](https://user-images.githubusercontent.com/104918800/177148424-990170dd-c570-4851-bb39-6b3cb5a3b60e.png)
<br><br>

3. IP (Internet Protocol) 주소
   * Inter Networking Protocol (통신규약, 통신언어)
   * 제조회사 별로 다른 통신규약을 해소하기 위해 '표준'을 정한 것임
   * **BEST EFFORT**: 최선은 다 하되, 패킷에 대한 보장은 해주지 않음
   * 패킷에 대한 신뢰성을 위해 뒷단에 TCP를 추가한다
<br><br>

4. http와 https
   * http(80)는 데이터 송수신시 clear text로 전송/수신 된다
   * https(443)는 데이터 송수신시 데이터에 대한 암호화가 추가된다
   * http로 접속하면 https로 접속되는 원리? <br> ![img_46](https://user-images.githubusercontent.com/104918800/177148529-3d7c9aa3-f82e-4ca3-92a6-21b6a94f9d0e.png)
<br><br>
