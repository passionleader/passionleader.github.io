---
# 속성은 대쉬 내부에 작성하세요

# 영문으로 같은 내용 작성 시 id 같아야 함
lng_pair: id_kakao_architect
# 영문으로 작성하는 경우 영문제목
title: Internet Protocol

# 저자 설정(생략 가능)
#author: initializer

# 카테고리와 태그 설정
category: 카카오클라우드스쿨
tags: [IP, Network]

# 섬네일 이미지
img: "data:image/png;base64,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"

# 댓글 비활성화 여부
comments_disable: false

# 작성 날짜
date: 2022-07-07 14:03:22 +0900

# image_lazy_loader_posts = false 혹은 image_viewer_posts = false인 경우에만 사용하세요
#image_viewer_on: true
#image_lazy_loader_on: true

# 블로그내 검색 혹은 검색 엔진 검색에서 예외할건가
#on_site_search_exclude: true
#search_engine_exclude: true

# to disable this page, simply set published: false or delete this file
#published: false
---

<!-- outline-start -->

[카카오 클라우드 스쿨] 인터넷 프로토콜과 서브넷 마스크 등등 IP의 모든것

<!-- outline-end -->




# IP (Internet Protocol)
## 기본 개념
* ip: internet protocol
* ![img_260.png](img_260.png)
  * 혼자 쓸 때가 아닌, 상호통신을 위해 필요한 통신규약 (통신언어)
* IPv4(32bit), IPv6(128bit) 두 개로 구분이 가능하다

<br>

* IPv4는 공인 주소, 사설 주소(비용 지불 여부에 따라)
  1. public IP는 ISP에게 **비용을 지불**하고 사용하는 주소이며, 인터넷 상에서 Unique 해야 한다
  2. private IP는 **돈** 안내고 내 마음대로 쓸 수 있지만, 인터넷 사용은 불가능하다
<br>

* IPv4
  * ![img_261.png](img_261.png)
  * 4개의 옥텟(bit)으로 구성되어 있다.
    * 8bit x 4 = 32 bit
    * 00000000.00000000.00000000.00000000
    * 256.256.256.256
  * Default Subnet mask에 따라 A~C 클래스로 구성된다
    * A: 1~127      255.0.0.0
    * B: 128~191    255.255.0.0
    * C: 192~223    255.255.255.0
  * AWS에서는 각 VPC별로 기본적으로 172.30.0.0/16을 제공함

<br>

* IPv4의 예약된 주소들
  1. 1.1.1.0/24 : 각 네트워크의 첫번째 주소(네트워크 주소)
  2. 1.1.1.255/24 : 각 네트워크의 마지막 주소(브로드캐스트 주소)
  3. 0.0.0.0 : 할당되지 않은 주소를 뜻함
  4. 255.255.255.255 : IPv4 전체에 대한 브로드캐스트 주소
  5. 127.0.0.1 : localhost 주소(루프백 주소)
  6. 169.254.x.x : link local 주소

<br>
<hr>

## 서브넷 마스크

* 서브넷 마스크 및 서브넷팅
  * 서브넷 마스크
    * ![img_264.png](img_264.png)
  * IP주소와 Subnet mask까지 봐야지 같은 네트워크인지 확인 할 수 있다
    * 255.255.0.0일때, 1.1.2.3과 1.1.211.30은 같은 네트워크 범위임
  * 서브넷팅
    * ![img_265.png](img_265.png)

<br>

* 위의 A 클래스처럼 범위가 큰 서브넷 마스크를 사용하지만, 사용자가 적을 경우의 문제점 <br>
  1. 호스트의 수가 적고 네트워크의 규모가 크다면 불필요한 트래픽이 많이 발생한다
     * 강의장이 크고 사람의 수가 작을때 크게 말해야 함(Broadcast할 때)
  2. IP 낭비가 있을 수 있다
     * 211.283.3.0/24 일 때, 회사에 쓰는 IP가 3개뿐일때, 나머지 낭비는 몽땅 낭비됨
     * 211.0.0.4 ~ 211.255.254는 전부 낭비됨

<br>

* prefix-length
  * IP주소 뒤에 /32 /16 등등
  * 서브넷 마스크에서 연속된 1비트 자리수를 의미한다
  * 172.31.0.0/16 == 172.31.0.0 255.255.0.0 과 동일함
  * 사용할 수 있는 범위: 172.31.0.0 ~ 172.31.255.255
    * 이 때, 172.31.5.0은 PC에 할당할 수 있는 주소임 - ip subnet-zero (172.31.0.0은 네트워크 주소라 PC에 할당 불가능)
    * 따라서 IP만 보고 네트워크 주소인지 구분 불가능(Subnet mask를 보고 판단해야 함)

<br>

* 연습문제
  * ![img_263.png](img_263.png)

* 참고하면 좋음
  * ![img_259.png](img_259.png)

<br>
<hr>


## 주소 할당
* 주소를 할당하는 방식
  1. 정적 할당 방식: 관리자/사용자가 기기에 직접 입력하는 방식, 건드리지 않는 이상, 한번 입력한 주소는 변경되지 않는다
  2. 동적 할당 방식: DHCP 프로토콜을 활용하여 서버로부터 주소, 서브넷 마스크, Gateway, DNS 주소 등을 부여 받는 방식
  3. **서버는 정적 할당 or 처음 DHCP로 전달받은 주소를 infinite 방식으로 시간제한을 없애는 방법** (한번 받은 주소를 계속 쓰게 하는 방법) 이 좋음 (하지만 정적이 더 좋음)

<br>

* DHCP 프로토콜의 작동 방식
* ![img_276.png](img_276.png)
